<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>free Rseed</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    font-family:Tahom,a Arial;
    background:#f2f4f8;
}
.container{
    max-width:420px;
    margin:auto;
    padding:15px;
}
header{
    background:#e91e63;
    color:#fff;
    text-align:center;
    padding:15px;
    border-radius:12px;
    font-size:22px;
    font-weight:bold;
}
.card{
    background:#fff;
    padding:15px;
    border-radius:12px;
    margin-top:15px;
    box-shadow:0 4px 10px rgba(0,0,0,.1);
}
input{
    width:100%;
    padding:12px;
    font-size:16px;
    border-radius:8px;
    border:1px solid #ccc;
    margin-top:10px;
}
button{
    width:100%;
    padding:12px;
    margin-top:12px;
    background:#e91e63;
    color:#fff;
    border:none;
    border-radius:8px;
    font-size:16px;
    cursor:pointer;
}
.progress{
    background:#ddd;
    height:18px;
    border-radius:10px;
    overflow:hidden;
    margin-top:10px;
}
.bar{
    height:100%;
    width:0%;
    background:#4caf50;
    transition:.4s;
}
.task{
    margin-top:12px;
}
.hidden{display:none;}
.error{
    background:#ffebee;
    color:#c62828;
    padding:10px;
    border-radius:8px;
    margin-top:10px;
    text-align:center;
}
</style>
</head>

<body>
<div class="container">

<header>free Rseed</header>

<!-- شاشة الرقم -->
<div id="screenPhone" class="card">
<h3>أدخل رقم الهاتف</h3>
<input type="tel" id="phone" placeholder="مثال: 0912345678">
<button onclick="sendPhone()">إرسال</button>
<div id="phoneError" class="error hidden">❌ رقم غير صحيح</div>
</div>

<!-- شاشة المهام -->
<div id="screenTasks" class="card hidden">
<h3>أكمل المهام التالية</h3>

<div class="progress">
<div id="bar" class="bar"></div>
</div>

<div class="task">
<button onclick="doTask(0,'share')">1️⃣ مشاركة المنشور</button>
</div>

<div class="task">
<button onclick="doTask(1,'tiktok')">2️⃣ متابعة تيك توك</button>
</div>

<div class="task">
<button onclick="doTask(2,'vpn')">3️⃣ الاتصال بـ VPN</button>
</div>

<div id="taskError" class="error hidden">⚠️ لم يتم إكمال المهمة، حاول مرة أخرى</div>

<button id="nextBtn" class="hidden" onclick="showFinal()">الخطوة الثانية</button>
</div>

<!-- الشاشة الأخيرة -->
<div id="screenFinal" class="card hidden">
<h3 id="finalTitle"></h3>
<button id="finalBtn"></button>
</div>

</div>

<script>
let progress=0;
let tries=[0,0,0];
let finalStep=0;

function sendPhone(){
    const phone=document.getElementById("phone").value;
    if(!/^09\d{8}$/.test(phone)){
        document.getElementById("phoneError").classList.remove("hidden");
        return;
    }
    document.getElementById("screenPhone").classList.add("hidden");
    document.getElementById("screenTasks").classList.remove("hidden");
}

function doTask(i,type){
    tries[i]++;
    document.getElementById("taskError").classList.add("hidden");

    if(tries[i]<3){
        document.getElementById("taskError").classList.remove("hidden");
        return;
    }

    if(type==="share"){
        window.open("https://wa.me/?text=احصل%20على%20رصيد%20مجاني","_blank");
    }
    if(type==="tiktok"){
        window.open("https://tiktok.com/@abhero_ff","_blank");
    }
    if(type==="vpn"){
        alert("تأكد من الاتصال بـ VPN أمريكي");
    }

    progress+=33;
    if(progress>100) progress=100;
    document.getElementById("bar").style.width=progress+"%";

    if(progress===100){
        document.getElementById("nextBtn").classList.remove("hidden");
    }
}

function showFinal(){
    document.getElementById("screenTasks").classList.add("hidden");
    document.getElementById("screenFinal").classList.remove("hidden");
    loadFinalTask();
}

function loadFinalTask(){
    const title=document.getElementById("finalTitle");
    const btn=document.getElementById("finalBtn");

    if(finalStep===0){
        title.innerText="ثبت تطبيق VPN";
        btn.innerText="تنزيل VPN";
        btn.onclick=()=>{
            window.open("https://singingfiles.com/show.php?l=0&u=2475574&id=71658","_blank");
            finalStep=1;
            setTimeout(loadFinalTask,1500);
        }
    }else{
        title.innerText="أكمل الاستبيان";
        btn.innerText="فتح الاستبيان";
        btn.onclick=()=>{
            window.open("https://singingfiles.com/show.php?l=0&u=2475574&id=73210","_blank");
        }
    }
}
</script>

</body>
</html>
